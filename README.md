## tQuery

一个在接口上类似 jQuery，但仅实现了节点查询、DOM/CSS修改和事件绑定/解绑的基础库。它不包含jQuery中Ajax、Deferred和Effect的部分，因为ES6规范中已经有了替代方案，即：$.Ajax => Fetch，$.Deferred => Promise，Effect => CSS3。

代码用ES6语法书写，仅支持实现了ES6的现代浏览器，基本不考虑低版本浏览器的兼容。当然由此而来的好处，是代码量的精简。

本库从Tpb库中剥离而来，由于后期的发展，本库逐渐脱离了jQuery Api的局限，增加了一些Tpb库需要的实用特性（如对代理嵌入的支持，Tracker扩展籍此可对节点数据的修改进行跟踪）。

## Api 设计

jQuery中对检索结果集的操作，在本库里都有一个“单元素”版本。实际上，本库中对检索集的批量操作，只是通过简单地调用单元素版本来实现。

如：`$.attr(el, name, val)` 修改元素el的name特性值，同时也有一个集合版：`$(...).attr(name, val)`。后者是前者的批量版本。前者返回$本身，而后者返回集合本身（就像jQuery一样）。

大多数情况下，本库中和jQuery中同名的Api，行为相似，接受参数相似，但有些地方依然有不小的区别。

如属性取值：jQuery中取值一般是“取集合中首个元素的值”，如：`jQuery('input').prop('value')`，为取集合中首个表单控件的value属性值，但本库里的同名操作：`tQuery('input').prop('value')`，则是返回一个值数组，它与检索到的input控件元素一一对应。

又如 `.html()` 接口，jQuery中的html既可接受文本参数，也可接受节点元素，它的效果与连续调用 `.empty` 和 `.append` 相同（注：同时append也可接受文本字符串）。在本库中，.html接口处理文本逻辑，如果参数是节点元素，只会提取其文本来处理（而非移动节点），同时扩展了功能，可指定插入模式（fill|append|before...）等。

基本上，本库是针对JS新的语法特性而编写，完全放弃向下兼容的历史负担。同时，提供新语法环境下的一些友好工具和特性。

## 与 jQuery 有细微差别的接口

- 	`.contains` jQuery版仅针对内部子孙元素，不含容器元素自身测试。本库版则包含容器元素自身测试，与DOM同名接口行为相同。
- 	`.hasClass` jQuery版中对空格分隔的名称序列视为一个整体。本库中空格分隔的名称序列被视为多个名称，every式判断。

## 与 jQuery 的明显差别对比

- 	`$().is` 对集合中每一个元素判断，返回一个true和false值混合的集合。需用数组的some或every作进一步详细的判断。
- 	`$.data` 没有该接口，元素的data-xx系属性融入在attr和prop接口中，且支持名称简写（-xx，无前置data词）。
- 	接口参数中仅类名和事件名支持空格分隔指定多个名称。元素属性无此优待，需用数组形式指定多个名称。


## 超出 jQuery 范畴的特性扩展


### $.xx Api list

#### 工具函数

#### DOM 检索

#### 数据取值/节点修改

#### Event 事件相关


### $().xx Api list